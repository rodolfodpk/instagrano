# Instagrano Environment Configuration
# Copy this file to .env and adjust values as needed

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=8080
SWAGGER_PORT=8081

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection string
# Format: postgres://username:password@host:port/database?sslmode=disable
DATABASE_URL=postgres://postgres:postgres@localhost:5433/instagrano?sslmode=disable

# =============================================================================
# AUTHENTICATION
# =============================================================================
# JWT signing secret (use a strong secret in production)
JWT_SECRET=dev-secret

# =============================================================================
# S3 STORAGE CONFIGURATION
# =============================================================================
# LocalStack S3 endpoint for development
S3_ENDPOINT=http://localhost:4566
S3_BUCKET=instagrano-media
S3_REGION=us-east-1

# =============================================================================
# REDIS CACHE CONFIGURATION
# =============================================================================
REDIS_ADDR=localhost:6379
REDIS_PASSWORD=
REDIS_DB=0
# Cache TTL (accepts: 30s, 5m, 1h, etc.)
CACHE_TTL=5m

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log levels: debug, info, warn, error
LOG_LEVEL=info
# Log formats: json, console
LOG_FORMAT=json

# =============================================================================
# PAGINATION CONFIGURATION
# =============================================================================
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# =============================================================================
# WEBCLIENT CONFIGURATION
# =============================================================================
# Use mock webclient for testing (true/false)
WEBCLIENT_USE_MOCK=true
# Base URL for mock webclient
WEBCLIENT_MOCK_BASE_URL=http://localhost:8080
# HTTP client timeout
WEBCLIENT_TIMEOUT=30s

# =============================================================================
# DEVELOPMENT NOTES
# =============================================================================
# 1. Make sure Docker Compose services are running:
#    make docker-up
#
# 2. Run database migrations:
#    make migrate
#
# 3. Start the application:
#    make start
#
# 4. Access the frontend at: http://localhost:8080
# 5. Access Swagger UI at: http://localhost:8081/swagger/
#
# =============================================================================
# PRODUCTION CONSIDERATIONS
# =============================================================================
# - Use strong JWT_SECRET (32+ characters)
# - Set LOG_LEVEL=info or LOG_LEVEL=warn
# - Use LOG_FORMAT=json for log aggregation
# - Configure proper DATABASE_URL with SSL
# - Use Redis Cluster for high availability
# - Set appropriate CACHE_TTL based on data freshness needs
# - Use real S3 endpoint (not LocalStack)
# - Set WEBCLIENT_USE_MOCK=false
# - Configure proper REDIS_PASSWORD
